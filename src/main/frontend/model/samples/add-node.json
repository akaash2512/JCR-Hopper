{
	"logLevel": "info",
	"hops": [
		{
			"type": "declare",
			"declarations": {
				"nodeName": "\"nName\"",
				"jcrPrimaryType": "\"cq:PageContent\"",
				"slingResourceType": "\"swisscom/components/structure/page\""
			}
		},
		{
			"type": "each",
			"expression": "['de', 'fr', 'it', 'en']",
			"hops": [
				{
					"type": "nodeQuery",
					"query": "/* The search query has to return the parent nodes we want to act on */\nSELECT * FROM [nt:unstructured] AS s WHERE ISDESCENDANTNODE([/content/swisscom/${lang}])",
					"queryType": "JCR-SQL2",
					"hops": [
						{
							"type": "createChildNode",
							"conflict": "force",
							"name": "${nodeName}",
							"runOnExistingNode": false,
							"hops": [
								{
									"type": "setProperty",
									"conflict": "force",
									"propertyName": "sling:resourceType",
									"value": "slingResourceType"
								}
							],
							"primaryType": "${jcrPrimaryType}"
						}
					]
				}
			],
			"iterator": "lang"
		}
	],
	"parameters": []
}
